<div class="user-dashboard">
  <h2 class="centered-title">Movie Library</h2>

  <!-- Search Section -->
  <div class="search-section">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      placeholder="Search by title"
    />
    <button (click)="searchMovies()">Search</button>
  </div>

  <!-- Movie List -->
  <div *ngFor="let movie of movies" class="movie-card">
    <h3>{{ movie.title }}</h3>
    <p><strong>Type:</strong> {{ movie.type }}</p>
    <p><strong>Genre:</strong> {{ movie.genre }}</p>

    <button (click)="toggleDetails(movie)">
      {{ movie.showDetails ? 'Hide Details' : 'More Details' }}
    </button>

    <!-- Full Movie Details -->
    <div *ngIf="movie.showDetails" class="details">
      <div class="detail-grid">
        <p><strong>Year:</strong> {{ movie.year }}</p>
        <p><strong>Runtime:</strong> {{ movie.runtime }}</p>
        <p><strong>Director:</strong> {{ movie.director }}</p>
        <p><strong>Actors:</strong> {{ movie.actors }}</p>
        <p><strong>Language:</strong> {{ movie.language }}</p>
        <p><strong>Release Date:</strong> {{ movie.releaseDate }}</p>
        <!-- <p *ngIf="movie.rated"><strong>Rated:</strong> {{ movie.rated }}</p> -->
      </div>

      <div class="rating-section">
        <label>Rate this movie (1-5):</label>
        <input
          type="number"
          [(ngModel)]="movie.userRating"
          min="1"
          max="5"
        />
        <button (click)="rateMovie(movie)">Rate</button>
      </div>
    </div>

    <hr />
  </div>
</div>
